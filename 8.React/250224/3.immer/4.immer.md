## 불변성?

React에서는 불변성(immutability) 이 중요한 개념임.  
이 개념을 쉽게 이해하려면 변하지 않는 데이터 vs 변하는 데이터의 차이를 먼저 알아야 해.  

## 인지할 점

불변성이라는 단어는 리액트에서만 통용되는 개념이 아님!  

불변성(immutability)은 한 번 생성된 데이터(객체나 배열)를 직접 수정하지 않고  
새로운 데이터를 만들어 사용하는 것을 의미함.  

즉, 원본 데이터를 바꾸지 않고 **수정된 데이터의 복사본을 만들어 사용하는 방식**임.  

### 불변성은 어디에서 중요할까?

- **함수형 프로그래밍** → 데이터 변경 없이 순수 함수(pure function)를 유지하는 핵심 개념  
- **Redux (상태 관리 라이브러리)** → 상태를 직접 변경하지 않고 새로운 상태를 반환해야 함  
- **멀티스레드 환경** → 한 개의 데이터를 여러 스레드에서 공유할 때, 안전성을 보장하려면 불변성이 필요  

## 왜 새로운 데이터를 만들어요?

리액트의 역할은 무엇인가요?  
여러분들이 상태(state)를 잘 변경하면 **리액트가 이를 감지해서 자동으로 UI를 업데이트하는 것!**  

그렇다면, 리액트는 **어떤 기준으로 상태가 변경되었는지 감지할까요?**  
아래 두 가지 방법이 있을 수 있겠죠.

### 상태 변경을 감지하는 두 가지 방법

1. **기존 객체(배열)의 내부 데이터를 하나씩 비교해서 변경 여부를 확인한다.**  
2. **새로운 객체(배열)가 들어왔는지(참조값이 바뀌었는지) 확인한다.**  

=> 어떤 방식이 더 빠르고 효율적일까요?  

2번인 새로운 객체인지 확인하는 방식이 더 빠르고 효율적.    
왜냐하면 **기존 객체 내부 데이터를 하나하나 비교하는 것은 비용(성능)이 너무 크기 때문**입니다.  

**즉, 새로운 객체(배열)를 생성하면 리액트가 변경 여부를 쉽게 감지할 수 있어서 성능이 좋아진다!**  

## 아니, 직접 데이터를 바꿔야 리액트가 변경을 감지할 수 있는 거 아닌가요?

### "React가 변경을 감지하기 위해서는 기존 데이터를 바꾸는 게 더 직관적이지 아님????"  

이런 의문이 들 수 있어요.  

하지만 **React는 내부적으로 상태(state) 변경을 감지하는 방식이 우리가 생각하는 방식과 다릅니다.**  
React는 상태가 변경되었는지를 확인할 때 **객체 내부 데이터를 비교하지 않고, 객체의 참조값(주소)을 비교**합니다.  

즉, 기존 데이터를 직접 변경하면 React는 **"이 데이터가 바뀌었는지" 감지하지 못할 수도 있음!**  

**이걸 이해하려면, 참조값(Reference) 개념을 먼저 알아야 함**  