# 지갑이 하는 일: 메타마스크와 블록체인에서의 서명

## 1. 변화에는 책임이 따른다

블록체인에는 거대한 상태(state)가 존재합니다.  
각 지갑의 잔액, 컨트랙트에 저장된 값, 기록된 트랜잭션들까지 모두 이 상태에 포함됩니다.

이 상태값은 아무나 바꿀 수 없습니다.

> 누군가 상태값을 바꾸려면 반드시 **트랜잭션(Transaction)**을 만들어야 하고,  
> 그 트랜잭션에는 **서명(Signature)**이 따라야 합니다.

**왜 그럴까요?**

블록체인은 **중앙 없이 동작하는 시스템**입니다.  
누구든지 참여할 수 있지만,

> **"나는 이걸 했어요"**라는 책임은 남겨야 합니다.  
> 그렇다고 **실명**을 남기는 건 아니죠. 그 대신 **수학적으로 증명 가능한 서명**을 남깁니다.

## 2. 서명에 대한 다른 관점

서명은 단순한 '체크'나 '동의'가 아닙니다.

> 서명은 내가 가진 **개인키(Private Key)**로 생성한 **수학적 증거**입니다.

이 서명을 통해 네트워크는 이렇게 판단합니다:

> "아, 이 트랜잭션은 이 주소의 소유자가 정말로 만든 게 맞구나."  
> (비밀키는 몰라도, 공개키와 비교해서 위조 여부는 확인할 수 있습니다.)

## 3. 그럼 지갑은 무슨 일을 할까?

우리가 흔히 말하는 "지갑(Wallet)"은 크게 두 가지 일을 합니다:

1. **개인키를 안전하게 보관한다.**
2. **내가 원할 때, 이 키로 메시지나 트랜잭션에 서명한다.**

즉, 지갑은

> **"내가 한 행동임을 증명해주는 도장"을 들고 있는 도구**입니다.

## 4. 메타마스크는 이걸 어떻게 도와줄까?

메타마스크는 브라우저 안에 설치되는 **확장 프로그램 형태의 지갑**입니다.  
메타마스크는 아래와 같은 중요한 일을 수행합니다:

- **내 개인키를 외부에 노출하지 않고 안전하게 보관합니다.**
- **내가 웹페이지(dApp)에서 트랜잭션을 요청할 때**,

1. **서명에 필요한 데이터를 메타마스크에 넘기면**,
2. 메타마스크는 **이를 사용자에게 시각적으로 보여주고**,
3. **사용자의 명확한 승인을 받은 후**,
4. **개인키로 해당 데이터에 서명**합니다.

> 자, 오늘 우리가 **바로 이 과정을 해볼 겁니다.**  
> 왜냐고요? **우리는 dApp을 만드는 개발자니까요!**

사용자 입장에서는 그냥 버튼 하나 '딸깍' 누르는 거겠지만,  
그 뒤에 있는 구조를 **우리가 직접 구현해야** 합니다.  
**데이터를 만들고, 요청하고, 메타마스크로 서명까지 유도하는 흐름**을 정확히 구성해야 하죠.

그리고 마지막으로,

> **블록체인 네트워크에 전파**될 수 있게 됩니다.

이 과정을 정리하면 이렇습니다:

메타마스크는 "내가 만든 서명 요청에 대해,  
**내 개인키로 안전하게 서명해주는 대리자"**이자,  
**"그 요청이 실제로 실행되기 전에, 사용자인 내가 내용을 검토하고 명확히 승인할 수 있도록 도와주는 창구"**입니다.

## 5. 왜 서명할 때마다 확인창이 뜨는가?

이건 단순한 보안 기능이 아닙니다.

> 서명은 블록체인에서 **"이 행동은 내가 했습니다"**라는 책임을 남기는 행위입니다.

메타마스크는 이 책임을 **무의식적으로 넘어가지 않도록**  
항상 사용자의 눈앞에 **최종 확인창**을 띄웁니다.

> 마치 실물 계약서에 도장을 찍기 전에,  
> **"정말 이 내용에 동의하시나요?"** 하고 묻는 순간과 같습니다.

블록체인은 자동화된 세계처럼 보일 수 있지만,  
실제로는 **책임을 수동적으로 확인하는 과정이 반드시 필요**합니다.

## 6. 이 모든 건 결국 ‘책임’에 대한 이야기다

블록체인은 모든 것을 투명하게 기록합니다.  
하지만 여기서 중요한 건

> **"누가 했는지 실명으로 특정하는 것"이 아니라,  
> "그 행동이 위조되지 않았음을 수학적으로 증명하는 것"입니다.**

그 증명을 가능하게 하는 수단이 바로 **서명**이고,  
그 서명을 **사용자의 승인 하에 안전하게 수행**할 수 있도록 돕는 것이 **메타마스크**입니다.

즉, 메타마스크는

> **블록체인 세계에서 책임 있는 행동을 안전하게 실행하는 창구**입니다.

## 정리

| 개념           | 설명                                                                  |
| -------------- | --------------------------------------------------------------------- |
| **서명**       | 내 행동을 수학적으로 증명하는 방식                                    |
| **개인키**     | 서명을 생성하는 나만의 열쇠, 절대로 외부에 노출되어선 안 됨           |
| **지갑**       | 이 개인키를 안전하게 보관하고, 사용자의 요청에 따라 서명을 수행함     |
| **메타마스크** | 브라우저와 dApp을 연결해주고, 사용자의 승인 하에 서명을 도와주는 창구 |

---

## 기억할 것

> 블록체인은 **익명성을 허용**합니다.  
> 하지만 **책임 없는 행동은 절대 허용하지 않습니다.**

> 그래서 우리는 직접 서명 요청을 만들고,  
> 메타마스크는 그 요청을 **사용자의 승인을 받아 안전하게 실행**하는 구조를 갖습니다.

> 메타마스크는 단순한 지갑이 아니라,  
> **블록체인 세계의 책임을 기술적으로 구현해주는 신뢰의 대리자**입니다.
