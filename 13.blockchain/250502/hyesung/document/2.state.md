# **스마트 컨트랙트에도 상태 관리가 필요하다**

여러분,  
아까 우리가 Baseball Game 규칙을 이야기했죠?

- 컴퓨터가 3자리 숫자를 정해두고,
- 우리가 입력해서 맞히는 게임.

그럼 이제 한 번 생각해봅시다.

> "**이 게임을 하려면, 스마트 컨트랙트가 무엇을 기억하고 있어야 할까?**"

## 1. **random (정답)**

가장 먼저,  
**컴퓨터가 정해둔 정답 숫자(random)**를 저장해야겠죠?

만약 정답을 저장하지 않는다면,

- 사용자가 무엇을 입력하든
- 무엇과 비교해야 할지 알 수가 없습니다.

=> 그래서 우리는 스마트 컨트랙트 안에  
**random**이라는 변수를 만들고,  
**정답 숫자**를 저장할 겁니다.

## 2. **progress (시도 횟수)**

다음으로 필요한 것은,  
**사용자가 몇 번 도전했는지** 기억하는 겁니다.

왜냐하면,

- 계속 실패해도,
- 10번 도전한 뒤에는 게임을 끝내야 하거든요.  
  (2일차에 다룰 예정이지만 지금 구조를 준비해야 함)

=> 그래서 우리는  
**progress**라는 변수를 만들어서,  
**현재까지 몇 번 시도했는지** 기록할 겁니다.

## 3. **reword (누적 보상금)**

또 하나 중요한 게 있어요.

만약 사용자가 입력할 때마다

- 티켓 비용을 지불하고,
- 실패할 때마다 그 금액이 쌓인다면?

**그 쌓인 보상금을 기록할 저장소**가 필요합니다.

=> 그래서 우리는  
**reword**라는 변수를 만들어서,  
**현재까지 쌓인 총 보상금**을 저장할 겁니다.

나중에 사용자가 정답을 맞히면,

- 이 보상금을 전부 가져가는 구조가 됩니다.

## 4. GameState (게임 시작 or 끝)

Baseball 게임에서는  
게임이 지금 **진행 중인지** 아니면 **끝났는지**를 명확히 구분할 필요가 있습니다.  
이를 위해 **enum(열거형)** 타입을 사용합니다.

---

### 해당 코드는 어떻게 타입과 값을 설정하고 있나요?

Baseball 컨트랙트 안에는 다음과 같은 enum 타입으로 정의할겁니다.

```solidity
enum GameState { playing, gameOver }
GameState public gameState;
```

- **GameState**는 새로운 타입을 만든 것입니다.
- 이 타입은 두 가지 값 중 하나를 가질 수 있습니다:
  - `playing` (게임이 진행 중일 때)
  - `gameOver` (게임이 끝났을 때)

`gameState`라는 변수는 이 **GameState 타입**을 가지며,  
반드시 이 둘 중 하나의 값만 저장할 수 있습니다.
