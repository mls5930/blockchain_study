# 여기서 질문: EVM 환경은 언제 설치해요?

> “지금 우리, 스마트컨트랙트 배포하고 실행까지 했잖아요?  
> 그 말은 **EVM이 돌아간다는 건데**…  
> **EVM을 내가 설치한 적은 없거든요?**  
> 그럼 도대체 **EVM은 어디에, 언제 설치된 거예요?”**

---

## 1. **“EVM을 설치한 적이 없는데 작동한다?” → 왜?**

우리는 분명 `npm install`, `web3`, `solc` 이런 거나 했지  
**"EVM 설치"라는 건 한 번도 명령어로 친 적이 없어.**

근데도 컨트랙트 배포하고, 호출도 되고, 상태도 바뀜.  
→ 이건 **내가 알지 못하는 누군가가 EVM을 대신 돌려줬다는 뜻**이야.

그 주인공이 바로:

> **Ganache**  
> (또는 Hardhat, Foundry, Geth, Infura…)

---

## 2. Ganache란?

> Ganache는 **내 컴퓨터에 실행되는 가짜 이더리움 네트워크**야.

- 진짜 메인넷은 아니지만,
- 진짜처럼 작동하게 해줌.
- 그리고 **EVM을 자체 내장하고 있음.**

📌 즉, 내가 Ganache를 설치하고 실행한 순간:

> **"EVM까지 포함된 블록체인 테스트 환경"이  
> 내 로컬에서 이미 돌아가기 시작한 것**이야.

> **“Ganache가 실행 중인 가상 블록체인에 web3를 통해 연결하겠다”**

→ 이걸 통해 **트랜잭션 전송, 컨트랙트 배포, 상태 조회** 등이 가능해짐

---

## 3. 그럼 이 코드의 의미는?

```js
const web3 = new Web3("http://127.0.0.1:8545");
```

- `127.0.0.1` = 내 컴퓨터
- `8545` = Ganache가 열어주는 포트 (기본값)

즉:

> **Ganache가 만든 EVM 환경과 연결해서,  
> Web3를 통해 트랜잭션을 보낼 수 있게 만든 것**

---

## 4. 그럼 web3는 뭐하는 친구냐?

- Web3는 **EVM을 실행하진 않음**
- 대신 **EVM이 있는 곳으로 명령을 전송해주는 도구**
- 어떻게? → **JSON-RPC** 라는 방식으로 메시지 전송

예를 들어, 우리가 호출하면:

```js
contract.methods.increment().send({ from: ... });
```

내부적으로는 이런 JSON이 만들어짐:

```json
{
  "jsonrpc": "2.0",
  "method": "eth_sendTransaction",
  "params": [ { ... } ]
}
```

→ 이걸 `http://127.0.0.1:8545`로 보내면  
→ Ganache는 내부의 EVM에게 전달해서 실행시킴

---

## 정리 한 줌

> **EVM을 내가 직접 설치한 적은 없지만,  
> Ganache 같은 도구가 내부에 포함된 EVM을 실행해줬기 때문에  
> 배포도 되고, 함수 호출도 가능했던 것이다.**
