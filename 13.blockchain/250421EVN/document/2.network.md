# 1단계: "네트워크란 무엇인가?"

## 1. 웹의 세계부터 시작 — **클라이언트 / 서버 구조란?**

"우리가 브라우저에 주소를 치면, 누군가가 화면을 보내주죠?"

- 브라우저: **클라이언트**
- 화면을 보내주는 컴퓨터: **서버**
- 클라이언트는 요청(request), 서버는 응답(response)

이 구조를 우리는 **클라이언트 / 서버 구조**라고 부릅니다.

## 2. 웹은 어떻게 연결되는가? — **HTTP 프로토콜**

"서버랑 클라이언트가 대화하는 규칙, 그게 바로 HTTP입니다."

- HTTP: **HyperText Transfer Protocol**
- 화면 전체를 "텍스트"로 주고받는 규칙
- 주소 요청 → HTML, CSS, JS 파일 응답
- 즉, **웹사이트 화면을 '요청-응답' 방식으로 가져오는 통신 규칙**

📌 한 가지 더!

- **HTTP는 'Stateless'하며, 요청-응답 후 연결을 끊는 방식**이에요.  
  → 매 요청마다 TCP 연결을 새로 열고, 응답이 끝나면 닫습니다.  
  → 그래서 흔히 **“connectionless”**라고 표현되지만,  
   실제로는 **TCP 위에서 동작하는 연결 지향적 프로토콜**입니다.

## 3. 연결은 어떻게 만들어지는가? — **3-Way Handshake**

"실제로는 HTTP가 동작하기 전에, TCP가 먼저 연결을 만들어야 해요."

- TCP 연결은 이렇게 진행됩니다:

```plaintext
1. 클라이언트 → SYN
2. 서버 → SYN + ACK
3. 클라이언트 → ACK
```

📌 이 과정을 **3-Way Handshake**라고 부릅니다.  
📌 연결을 끊을 때는 4번의 메시지를 주고받는 **4-Way Handshake**도 있어요.

## 4. 그럼 비트코인도 HTTP를 쓰나?

**아니요. 비트코인은 HTTP를 사용하지 않아요.**

- 비트코인은 **P2P 네트워크** 구조로 돌아갑니다.
- 여기서 **모든 노드가 서로 직접 연결**돼요.
- 누군가에게 요청받기 전에, **내가 먼저 메시지를 보낼 수도 있어요.**

즉, **HTTP처럼 '누군가 요청하면 응답하는 구조'가 아니라**,  
**각 노드가 주체적으로 정보를 퍼뜨리는 구조**입니다.

📌 물론 각 노드는 **TCP 소켓을 열고 연결을 기다리는 역할도 하죠.**  
 그래서 **서버처럼 동작**하지만,  
 우리가 말하는 **중앙 서버는 없습니다.**

> 그래서 이 구조를 우리는 **탈중앙 네트워크 (P2P 구조)**라고 부릅니다.

## 기술적으로 보면:

| 기준           | HTTP (웹)                 | 비트코인 (P2P)                          |
| -------------- | ------------------------- | --------------------------------------- |
| 요청/응답 구조 | 있음 (Request → Response) | 없음 (수시로 Push 전파)                 |
| 서버 존재      | 명확한 중심 서버          | 없음 (노드끼리 직접 연결)               |
| 연결 방식      | Stateless (HTTP over TCP) | **항상 연결 유지** (TCP 소켓 상시 연결) |
| 메시지 흐름    | 요청 후 응답              | **정보를 직접 전파 (broadcast)**        |

## 5. 그래서 비트코인은 뭘 썼을까? — **P2P + TCP + 자체 프로토콜**

- **TCP 소켓**으로 양방향 연결을 항상 유지하고,
- **HTTP가 아닌 자체 메시지 규약**으로 통신합니다.
- 이 연결 구조를 기반으로:
  - 블록 전파
  - 트랜잭션 공유
  - 체인 동기화

> 이 모든 구조를 통틀어 우리는 **“비트코인 네트워크”**라고 부릅니다.

## 쉽게 말하면:

**누가 요청을 보내면 내가 받을 수 있고,  
내가 먼저 보내면 누군가가 받을 수 있는 구조예요.**

이걸 우리는 **P2P 통신 네트워크**라고 부릅니다.

여기서는 **나도 서버가 될 수 있고**, **나도 클라이언트가 될 수 있어요.**

- 어떤 노드는 트랜잭션을 만들어서 보내고,
- 어떤 노드는 그걸 받아서 검증하고,
- 또 어떤 노드는 블록을 만들어서 전파해요.

그러니까,

> **"내가 클라이언트이자 데이터베이스가 될 수 있다."**

그리고 그 **데이터베이스 안에는 블록이 들어 있어요.**  
그걸 내가 직접 **검증하고, 만들고, 전파**합니다.

> **그게 바로 비트코인입니다.**

---

웹은 **정보를 요청해서 보는 구조**,  
비트코인은 **정보를 같이 만들고, 공유하는 구조**입니다.

그래서 이 구조를 우리는

> **"비트코인 네트워크"**, 또는 **"탈중앙 P2P 네트워크"**라고 부릅니다.
