# TDD란 무엇인가? – 테스트 주도 개발(Test Driven Development)

## 1. 정의부터 간단히

> **TDD(Test Driven Development)** 는  
> **“코드를 작성하기 전에 테스트를 먼저 작성하는 개발 방식”**이에요.

- 일반적인 순서:  
  `기능 개발 → 테스트 작성 → 실행`
- TDD 순서:  
  `테스트 작성 → 실행 (실패함) → 기능 구현 → 실행 (성공함)`

## 2. 왜 TDD를 할까?

| 이유            | 설명                                                            |
| --------------- | --------------------------------------------------------------- |
| **신뢰성 확보** | “내 코드가 진짜 잘 작동하는지”를 자동으로 검사할 수 있음        |
| **빠른 피드백** | 수정하거나 리팩토링할 때 바로 에러를 감지함                     |
| **안전한 변경** | 코드가 길어져도 망가진 부분을 빠르게 확인 가능                  |
| **문서화 역할** | 테스트 코드 자체가 “이 코드가 어떻게 동작해야 하는지” 설명이 됨 |

---

## 3. TDD의 3단계 사이클 – Red / Green / Refactor

| 단계        | 설명                                                                  |
| ----------- | --------------------------------------------------------------------- |
| 🔴 Red      | **먼저 실패하는 테스트를 작성** (아직 기능 구현 안했으니 당연히 실패) |
| 🟢 Green    | 기능을 구현해서 테스트를 **통과시킴**                                 |
| ♻️ Refactor | 기능은 유지하면서 **코드 품질을 개선**함                              |

---

## 4. 지금 코드와의 연결

```ts
describe("block 검증", () => {
  it("블록 추가", () => { ... }) // → Green 단계
  it("블록 유효성 검증", () => { ... }) // → Red → Green 가능성
});
```

- 현재 코드에서는:
  - 테스트를 통해 블록이 제대로 생성되고,
  - 유효성 검사도 통과하는지 자동으로 체크함
- 즉, 우리가 만든 `generateBlock()`이나 `isValidNewBlock()`의 로직이 **신뢰할 수 있는지 확인하는 장치**인 거예요.

---

## 5. 단순한 말로 정리하자면

> TDD는 **“내가 만든 코드가 진짜 잘 작동하는지, 스스로에게 증명하는 방법”**이에요.  
> 코드를 짜기 전에, “이게 이렇게 작동해야 해!” 라고 **약속부터 세워두는 것**이죠.

## 그리고 현실적인 포인트 하나 더!

> 테스트 코드를 안 짜면?
>
> - 시간이 흐를수록 버그 찾기 어려움
> - 기능이 많아질수록 _“이거 바꿔도 되는지?”_ 불안함
> - 팀원이 코드 수정할 때 사고 날 가능성 ↑

> 테스트 코드를 짜면?
>
> - **자동으로 안정성 검증**
> - **작은 단위의 개발도 확인 가능**
> - **리팩토링이 두렵지 않음**
