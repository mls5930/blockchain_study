# 제네시스 블록 구조 – 인터페이스부터!

## 수업 흐름

- 우리가 앞으로 만들 블록들, 그리고 블록체인 전체는 결국 이 한 덩어리 객체 구조에서 시작해요.
- 그래서 이 블록이 어떻게 생겼고, 왜 그렇게 설계됐는지를 제대로 이해하는 게 진짜 중요합니다.

## 1. 블록은 '객체'다!

- 블록은 특별한 게 아닙니다. 그냥 객체예요.
- 그 안에 우리가 담고 싶은 정보가 들어있을 뿐이죠.

## 2. 블록은 사람 몸처럼 생겼다?!

> 그래서 이 객체는 크게 두 덩어리로 나눌 수 있어요.  
> 바로 겉(헤더)과 속(바디)입니다.

- **헤더 (Header)**: 블록 자체에 대한 정보 → 이 블록이 누군지 말해주는 정체성
- **바디 (Body)**: 실제로 이 블록이 담고 있는 내용 → 기록

## 3. 설계도 만들기 (interface)

- "우리는 TypeScript에서 이 객체의 생김새를 `interface`로 먼저 정의할 거예요.
- 이게 바로 설계도이자, 블록의 기준이 됩니다."

```ts
// 헤더부터!
export interface IBlockHeader {
  version: string;
  height: number;
  timestamp: number;
  previousHash: string;
}
```

```ts
// 바디 포함해서 전체 블록 완성
export interface IBlock extends IBlockHeader {
  merkleRoot: string;
  hash: string;
  nonce: number;
  difficulty: number;
  data: string[];
}
```

## 이제 중요한 얘기: "왜 이렇게 나눴을까?"

그냥 보기 좋으라고 나눈 게 아니에요.  
진짜 이유가 있어요. 그리고 이게 블록체인의 핵심이에요.

## 헤더에는 왜 이런 정보가 담길까?

### 이 네 가지는 **'이 블록이 누군가?'** 를 설명하는 정체성입니다.

| 속성           | 의미                                                   |
| -------------- | ------------------------------------------------------ |
| `version`      | 어떤 버전의 설계 기준을 따르고 있는지                  |
| `height`       | 이 블록이 체인에서 몇 번째 블록인지 (순번)             |
| `timestamp`    | 언제 만들어졌는지 (시간 기록)                          |
| `previousHash` | 바로 앞 블록의 고유한 지문값. **이걸로 체인이 이어짐** |

특히 `previousHash`는 다음 블록과 이 블록을 **연결**해주는 링크입니다.  
이게 없으면 **블록체인은 단절됩니다.**

## 바디는 왜 따로 떼어놨을까?

### 바디에는 두 가지 큰 흐름이 있어요:

1. 이 블록이 뭘 담고 있느냐 (`data`)
2. 이걸 요약한 결과 (`merkleRoot`, `hash`), 그리고 이걸 만들기 위해 얼마나 계산했는가 (`nonce`, `difficulty`)

| 속성         | 의미                                                         |
| ------------ | ------------------------------------------------------------ |
| `data`       | 실제로 담긴 거래들. 이게 진짜 내용이에요                     |
| `merkleRoot` | 거래들을 전부 압축한 요약본 (나중에 설명)                    |
| `hash`       | 이 블록 전체의 지문값 (내용이 달라지면 hash도 달라짐)        |
| `nonce`      | 이 블록을 만들기 위해 시도한 숫자값 (채굴 관련, 나중에 다룸) |
| `difficulty` | 얼마나 어렵게 만들어졌는지. 기준 난이도                      |

---

"지금 이 시점에서 여러분이 알아야 할 건,  
**블록은 단순히 데이터 덩어리가 아니라 ‘정체성 + 내용’이라는 구조로 되어 있고**
**그 중에서도 ‘연결’과 ‘검증’이 제일 중요한 역할을 합니다.**

## 집중해서 봐야 할 핵심 속성은?

- **`previousHash`**: 연결 (체인의 핵심)
- **`hash`**: 내용 검증 (위조 불가)
- **`nonce` + `difficulty`**: 블록을 만들기 위한 증명 (나중에 ‘채굴’로 이어짐)

지금 이 인터페이스가 앞으로 우리가 만들 모든 블록의 기준이 될 거예요.  
블록체인의 설계 철학이 **이 구조 안에 다 들어있습니다.**  
단순히 속성들을 외우기보다는,  
**왜 나눠졌고, 어떤 역할을 하며, 어떤 흐름으로 이어지는지를 이해하는 것**,  
그게 진짜 중요한 포인트입니다.
