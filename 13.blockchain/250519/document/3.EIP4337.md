# EIP-4337

자, 여러분.  
오늘 우리가 다루고 있는 **계정 추상화(Account Abstraction)**는  
처음부터 EIP-4337이라는 번호로 시작된 이야기가 아닙니다.

Ethereum 커뮤니티는 이미 **몇 년 전부터**  
계정 추상화의 필요성을 인식하고 있었습니다.  
그리고 그 필요를 기술적인 제안서(EIP)로 여러 차례 시도해왔죠.

그중 대표적인 것이 바로 두 가지입니다:

1. **EIP-86 (2017)**
2. **EIP-2938 (2020)**

이 두 제안서는 모두,  
Ethereum의 현재 구조가 가진 한계를 해결하려고 했습니다.

> “왜 트랜잭션은 오직 개인 키를 가진 사람만 보낼 수 있지?”
> “컨트랙트는 왜 계정처럼 행동하지 못하지?”
> “서명 방식은 꼭 ECDSA만 써야 해?”

정확한 문제를 짚었습니다.  
하지만… 이 두 제안은 모두 **실현되지 못했습니다.**

왜일까요?

## “합의 계층을 수정해야 했기 때문입니다.”

음… 그런데 여러분.
**“합의 계층(Consensus Layer)을 수정한다”**는 말, 무슨 뜻인지 감이 오시나요?

잠깐 이걸 먼저 짚고 갑시다.

---

### 합의 계층이란?

Ethereum을 아주 단순하게 나누면 이렇게 됩니다:

| 계층          | 역할                                              |
| ------------- | ------------------------------------------------- |
| **합의 계층** | 블록을 어떻게 만들고, 어떤 순서로 연결할지를 정함 |
| **실행 계층** | 그 블록 안의 트랜잭션을 실제로 실행함             |

즉, **합의 계층은 Ethereum의 뼈대이자 심장입니다.**

### “합의 계층을 수정한다”는 건 무슨 뜻이냐면요…

- Ethereum 네트워크 전체의 작동 방식을 바꾼다는 뜻입니다.
- 블록을 만드는 방식이 바뀌고,
- 노드와 클라이언트들이 모두 업그레이드되어야 하고,
- 하드포크가 발생할 수도 있습니다.
- 서로 다른 클라이언트가 다르게 이해하면 체인이 쪼개질 수 있습니다.

그야말로 Ethereum 전체를 **갈아엎는 수준의 작업**이에요.

그래서 **아무리 좋은 기능을 제안했어도**,
“합의 계층을 수정해야 합니다”라고 말하는 순간
현실성은 뚝 떨어집니다.

---
npx ganache 
npx truffle

EIP-86도, EIP-2938도 **아이디어는 훌륭했지만**
결국 이런 이유로 묻히게 됩니다.

> Ethereum 커뮤니티는 이렇게 판단했죠:
> “이건 너무 위험하고, 너무 비쌉니다.”

## 그래서 방향이 바뀝니다

> “좋아. 구조는 여전히 바꿔야 해.
> 그런데 Ethereum 본체는 건드리지 말자.”
> → **"그 위에서, 외부 인프라로 해결하자."**

이게 바로 **EIP-4337의 철학**입니다.

> 기존 트랜잭션 구조를 유지하면서,
> 계정 추상화를 실현하는 방식.
> **Ethereum의 합의 계층은 그대로 두고**,
> 스마트 계정, 대납 시스템, 서명 커스터마이징 등을
> **EntryPoint라는 컨트랙트와 새로운 트랜잭션 객체(UserOperation)**로 구현하자.

---

### 요약하자면

- EIP-86과 EIP-2938은 계정 추상화를 **Layer 1에서 직접 구현**하려 했지만,
  → Ethereum의 심장을 건드려야 했기에 **실현되지 못했습니다.**

- EIP-4337은 같은 목표를 가지고,
  → **Ethereum 바깥에서**,
  → **스마트 컨트랙트 레벨에서**,
  → **더 안전하고 실현 가능한 방식으로** 계정 추상화를 구현합니다.
