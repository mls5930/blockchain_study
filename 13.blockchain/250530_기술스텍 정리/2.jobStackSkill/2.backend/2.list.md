# Node.js 기본기 다지기

**“구조화된 백엔드 설계” 감각을 익히기 위한 실전 액션 플랜**  
**– Counter 기능 구현을 통해 배우는 계층 분리와 설계 흐름 –**

> 지금 우리는 단순한 API 구현이 아니라,
> “**설계 감각을 갖춘 백엔드 개발자**”로 성장하기 위한 훈련 방향성 제시.

## 전체 목표

- Counter 도메인을 통해 **실제 백엔드 구조를 몸으로 체득**
- Controller / Service / Middleware / Model / Config 분리
- 실전 API 흐름을 직접 구성하면서 **“왜 이렇게 나누는가”**를 깨달음

## 1단계 – 백엔드 기본기 다지기

### 도메인: Counter 기능

| 기능                | 라우팅                    |
| ------------------- | ------------------------- |
| 현재 카운터 값 조회 | `GET /counter`            |
| 값 증가             | `POST /counter/increment` |
| 값 감소             | `POST /counter/decrement` |

## 디렉토리 구조 예시

```
counter-project/
├── server.js
├── app.js
├── routes/
│   └── counter.js
├── controllers/
│   └── counterController.js
├── services/
│   └── counterService.js
├── middleware/
│   └── validateUser.js
├── models/
│   └── counter.js
│   └── index.js
└── config/
    └── db.js
```

## 학습 내용 정리

### 1. 비동기 흐름 정리

- `async/await`, `try/catch`
- DB 요청의 비동기 흐름 이해

### 2. HTTP 구조 설계

- REST 방식 요청 처리 (`GET`, `POST`)
- 요청 → 응답 흐름 전체 체득

### 3. Express 구조 분리

- `app.js`는 미들웨어 & 라우팅 등록 전용
- `server.js`는 서버 실행 책임
- `routes → controller → service` 흐름 확립

### 4. DB 연동: Sequelize + MySQL

- 모델 정의 및 테이블 생성
- 카운터 초기화 및 값 조작

### 5. 미들웨어 설계

- `req.body.user` 유효성 검사
- `next()` 흐름 감각 익히기

### 6. 서비스 계층 설계

- 컨트롤러는 로직을 호출만
- 로직은 서비스 계층에 모아서 재사용성 확보

## 설계 감각 훈련 목표

| 개념           | 실습을 통해 익히는 방식                   |
| -------------- | ----------------------------------------- |
| 책임 분리      | 계층 분할로 역할 명확히 하기              |
| 의존성 분리    | 로직과 실행을 분리하여 유연한 구조 만들기 |
| 유효성 검사    | 미들웨어로 요청 전 처리                   |
| 재사용성 고려  | 서비스 계층 함수화                        |
| 구조 설명 능력 | 디렉토리 및 흐름을 말로 설명 가능하게     |

## 실습 일정 (3일 구성)

| 날짜  | 학습 내용                                    |
| ----- | -------------------------------------------- |
| 1일차 | DB 세팅, `GET /counter` 구현, 전체 구조 초안 |
| 2일차 | `POST` 구현, 미들웨어 도입, 서비스 분리      |
| 3일차 | 리팩토링 + 구조 설명 정리 + 발표 대비        |

## 최종 목표

- 단순 API가 아니라,
  **“구조화된 백엔드”를 설계하고 설명할 수 있는 실력** 확보
- 이후 어떤 프레임워크를 만나도 스스로 구조를 잡을 수 있는 기반 마련
