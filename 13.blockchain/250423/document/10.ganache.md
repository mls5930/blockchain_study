## 질문: 가나쉬에 배포할때는 안했잖아요? 혹시 내부적으로 포장해주는 그런 함수라던가 그런게 존재하나요?

> "Ganache에 배포할 땐 `.encodeABI()` 안 썼는데요?  
> 근데 지금은 왜 굳이 써야 하나요?  
> 그때는 내부에서 포장해주는 무언가가 있었던 건가요?"

맞아요. **정확히 말하면 그때도 똑같은 포장이 필요했어요.**  
근데 **그 포장을 우리 대신 해준 게 있었던 거예요.**

---

우리가 어제 사용했던 코드는 이런 형태였죠?

```js
await contract.deploy({ data: bytecode }).send({ from: account });
```

이 코드는 내부적으로 다음과 같은 일을 **자동으로** 해줍니다:

1. `.deploy()` → 배포 정보 준비 (bytecode 포함)
2. `.encodeABI()` → 내부적으로 자동 실행됨 (EVM용 데이터 생성)
3. 트랜잭션 객체 구성
4. 서명 (Ganache는 unlock 상태이므로 자동으로 서명)
5. 전송

즉, 이 `send()` 함수는 **내부에서 우리가 지금 수동으로 하고 있는 모든 걸 자동으로 해주는 함수**였던 거예요.

---

### 다시 말하면

> Ganache에서는 `send()`가 알아서 `.encodeABI()`도 호출하고,  
> 계정도 unlock 상태라 비밀키도 몰라도 되고,  
> 서명도 자동으로 하고,  
> 가스도 알아서 넣어주고…

→ 그래서 우리가 **포장 과정을 몰라도 배포가 됐던 거예요.**

---

하지만 지금은?

> 우리는 퍼블릭 네트워크, Sepolia에 진짜 트랜잭션을 보내는 상황이에요.  
> 그리고 우리가 사용하는 `sendSignedTransaction()`은  
> **"포장이 끝난 트랜잭션"만 받아요.**

즉, 우리가 수동으로:

- 트랜잭션 구성 →
- ABI 인코딩 →
- 서명 →
- 전송

을 전부 명시적으로 해줘야 하는 거죠.

---

### 핵심 정리

> - **Ganache의 `.send()`는 내부적으로 `.encodeABI()`를 호출하고 포장까지 해준다.**
> - **Sepolia에서는 우리가 직접 `.encodeABI()`를 호출해서 그 포장 과정을 명시해줘야 한다.**
> - **send()는 편의 함수고, 우리가 지금 하는 건 수동 절차다.**
