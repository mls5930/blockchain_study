```sh
  Signature {
      r: BN {
        negative: 0,
        words: [
           3872489,   174330,
          58254850, 11726074,
          39794887, 61159837,
          33019078, 51808935,
          43635993,  2125819
        ],
        length: 10,
        red: null
      },
      s: BN {
        negative: 0,
        words: [
          58616028, 38010459, 38584541, 41690169,
          30866399, 38561419, 12427537, 42521041,
          17631685,  1807078,        0,        0,
                 0,        0,        0,        0,
                 0,        0,        0,        0,
                 0,        0,        0,        0,
                 0,        0,        0,        0,
                 0,        0
        ],
        length: 10,
        red: null
      },
      recoveryParam: 1
    }
```

r은뭐고 s는 또 뭐람?

위의 전체는 `전자 서명`임.
이 서명은 두 개의 숫자 => r, s  
그리고 부가적인 recoveryParam으로 구성됨

## r, s는 뭐임?

각각은 큰 숫자 (BigNumber, BN) 객체다.

BN은 빅넘버 줄임말. => 정수인데 너무 커서 일반 숫자로 못 담는 경우.  
일단, 우리가 서명을 만들면 내부적으로 r과 s라는 두 값이 생성됨.

## r, s는 어따씀?

누군가 이 메시지에 서명했어.  
진짜로 이 사람이 서명했는지 확인하려면?  
=> 바로 이 r과 s 값 + 공개키가 필요함.

## 핵심은

r, s = 서명의 진짜 내용  
이걸로 공개키를 가진 누구나 검증 가능  
하지만 비밀키 없이는 절대 만들 수 없음

## 4. 검증 (이 사람이 만든 게 맞음?)

우리가 만든 서명이 **진짜로 내가 만든 게 맞는지** 확인해보자.  
이건 비밀키 없이, **공개키만으로도 검증 가능**해야 해.  
자, 코드를 단계별로 뜯어보자.

---

### Step 1. 공개키로 keyPair 만들기

```ts
const keyPair = ec.keyFromPublic(publicKey, "hex");
```

- 아까 우리는 **비밀키로 keyPair를 만들었지?**
- 이제는 공개키만 가지고 keyPair 객체를 만듦
- => 이 keyPair는 **검증 전용**임 (서명은 못 함!)

---

### Step 2. 메시지를 SHA256으로 해싱

```ts
const txData = "나 엄준식인데 1비트코인 보냈다.";
const hash = SHA256(txData).toString();
```

- 실제 트랜잭션이나 메시지를 문자열로 넣음
- 해커가 내용을 살짝만 바꿔도 **서명이 무효화됨**
- => 그래서 해싱함 → 해시가 **문서의 지문** 역할을 함

---

### Step 3. 서명 검증

```ts
const isValid = keyPair.verify(hash, signature);
```

- **공개키(keyPair)**로
- **문서의 지문(hash)**과
- **서명(signature)**를 비교함
- 결과는 `true` or `false`

---

### Step 4. 테스트 기대값과 비교

```ts
expect(isValid).toBe(true);
```

- 검증 결과가 `true`여야 통과!
- 즉, "이 서명은 이 공개키로 **확실히 인증된다**"

---

## 요약

| 단계                  | 설명                    |
| --------------------- | ----------------------- |
| 공개키로 keyPair 만듦 | 비밀키 없이도 검증 가능 |
| 메시지 해시화         | 내용의 지문 만들기      |
| 서명 검증             | r/s 값과 비교함         |
| 결과 확인             | `true`면 인증 성공      |

---

> “야, 너 이 메시지 네가 쓴 거 맞아?”  
> “어, 이 서명이 내 펜으로 만든 사인이다. 공개키로 찍어봐.”  
> “오 진짜네! 너 맞네.” ← 이게 `verify()`
