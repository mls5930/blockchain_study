## P2P 수업(1일, 2일)중 어려운 것이 무엇이었나?

딱히 없었다...

중요한게

IPv4 주소 => 포트

## 내일까지 P2P 수업인데, 이번 P2P 수업을 통해서 알아야 하는 것.

## P2P 수업의 핵심 요약 – 왜 이걸 배우는가?

우리가 이번 수업에서 다루는 것은 단순히 코드 구현이 아니라,  
**"컴퓨터에서 다른 컴퓨터의 프로그램으로 데이터를 정확히 전달하는 구조"**를 이해하고 구현하는 것이다.

---

### 1. P2P 통신이란?

> **Peer to Peer – 즉, 동등한 위치의 컴퓨터끼리 직접 연결하여 데이터를 주고받는 구조.**

- 서버-클라이언트 구조와 다르게, 한쪽이 일방적으로 서비스하고 나머지는 요청만 하는 구조가 아님.
- P2P에서는 **모든 노드(컴퓨터)**가 **서버이자 클라이언트**가 될 수 있음.

---

### 2. 데이터가 "어디에서 어디로" 가는지를 파악하자

#### (1) IP 주소 (IPv4)

- 예: `http://43.201.101.26/`
- 이 주소는 **같은 네트워크 안에서 특정 컴퓨터를 식별**하는 주소다.
- 하지만 이걸로는 **그 컴퓨터 안의 "프로그램"**까지는 지정할 수 없음.

예를 들면

카카오톡: 8081
배민: 9000

만약에, 카카오톡 켜서 배민 주문 할 수 있나?
반대로, 배민 켜서 카카오톡 메세지 보내는 기능을 이용할 수 있나?

#### (2) MAC 주소

- 네트워크 카드(랜카드)의 고유 식별자.
- 2계층에서 쓰이는 주소이고, **물리적인 위치**를 가리킨다.
- **IP는 바뀔 수 있지만, MAC 주소는 고정되어 있음.**

#### (3) 포트 번호

1 ~ 2999번대는 고정적으로 할당이 되어있음.

- 하나의 컴퓨터 안에는 수많은 프로그램이 실행되고 있다.
- IP만 알면 컴퓨터까지만 도달 가능.  
  → 프로그램까지 도달하려면 **포트 번호가 필요**하다.
- 포트는 **운영체제에서 프로그램을 구분하기 위해 할당된 주소**다.
- 예: `127.0.0.1:4000`, `127.0.0.1:8000`처럼 표현.

수학적 코드로 표현되는 건 맞음
근데, 나중에는 스마트 컨트랙트 => 하나의 주소
=> 얘가 저장되어있는 하나의 주소임.

---

### 3. 현실 네트워크 예시 – 비트코인 노드 간 통신

> 노드 = 블록체인 프로그램 (소프트웨어)  
> 각 노드는 **다른 노드의 IP 주소 + 포트 번호**를 알고 있어야만 연결 가능.

- IP 주소만으로는 해당 컴퓨터까지밖에 접근 못함.
- 포트 번호까지 알아야 **그 컴퓨터 안의 비트코인 노드 프로그램**과 연결할 수 있음.
- 그래서 `192.168.0.11:8333`과 같이 "주소 + 포트"를 반드시 명시해야 함.

---

### 4. P2P 수업 내 실습 구조

- 우리는 여러 개의 포트를 열어 통신 실습을 했다.  
  예: `4000`, `4001`, `8000`, `8001`

- 왜 여러 포트를 썼을까?
  → 각 포트는 **하나의 노드 프로그램**을 나타낸다.
  → 그래서 우리는 **각 포트가 다른 노드라고 생각하고**, 서로 메시지를 주고받았다.

---

### 5. 추가 개념 – OS에서 포트가 어떻게 쓰이는가?

- 운영체제(OS)는 일반적으로 0~1023번 포트는 시스템 용도로 사용.
- 일반 프로그램은 **1024번~65535번까지의 포트**를 주로 사용한다.
- 우리가 P2P 실습에서 쓴 4000~8000번 포트는 이 범위 내에 있어 사용 가능.

---

## 결론

P2P 수업의 핵심은:
127.0.0.1:3000 => 주병현이 살고 있는 집주소 => 몇 동 몇 호
127.0.0.1 => 주병현이 살고있는 빌라 => 빌라 전체
=> localhost:3000

> **"하나의 컴퓨터에서, 다른 컴퓨터의 프로그램에 데이터를 정확히 보내는 방법"**을 체험하고 이해하는 것이다.

이를 위해선 반드시 다음 정보가 필요하다:

- 그 컴퓨터의 IP 주소 (IPv4)
- 그 컴퓨터 내에서 실행 중인 프로그램의 포트 번호

이 두 가지가 합쳐져야 하나의 노드를 식별할 수 있으며, 그래야 메시지를 정확히 주고받을 수 있다.
정리 아주 좋습니다. 이걸 바탕으로 학생들에게 확실히 전달될 수 있는 형태로 다듬어볼게요.  
**기술 공부**가 중요한 게 아니라, **왜 그걸 배워야 하는지**가 명확히 보여야 하니까요.

---

## 그래서 우리는 왜 이걸 배우는가?

P2P 통신이니, OSI 7계층이니, MAC 주소니 IP니…  
물론 다 중요하지만, 그걸 외우고 분석하는 게 **지금 수업의 본질은 아님.**

**핵심은 이거 하나야:**

> **"다른 컴퓨터에 있는 프로그램까지 정확히 메시지를 전달하려면,  
> 그 프로그램이 어디 있는지를 정확히 알아야 한다."**

---

### 그럼 그 “위치”란 뭔가?

- **IP 주소**: 컴퓨터가 어디 있는지를 알려줌 (네트워크 상 주소)
- **MAC 주소**: 그 컴퓨터의 물리적 네트워크 장치(랜카드) 고유번호
- **포트 번호**: 그 컴퓨터 안에 수많은 프로그램 중 어느 프로그램으로 보낼지를 알려줌

즉,

> **IP + 포트 번호 = 하나의 프로그램 위치**  
> (MAC 주소는 물리 계층에서 사용되므로 참고 개념으로만 인식)

---

## P2P 수업은 그냥 네트워크 공부가 아님.

> **"내 노드에서 다른 노드로 데이터를 보내는 구조를 구현해보는 체험"**

이게 중요한 이유는?

→ **다음 주에 이더리움 네트워크**를 다룰 때,  
우리는 **진짜 화면으로 연결된 노드들** 사이에서  
트랜잭션을 보내고, 스마트 컨트랙트를 호출하게 될 거임.
=> 0x123141414

그때 필요한 기본 전제가 바로 **“노드 간 통신 구조”**다.  
즉, 지금 우리가 배우는 P2P는 그걸 위한 **진입 조건**, **초석**인 거다.

---

## 다음 주 예고 – 드디어 눈에 보인다

지금까지는 콘솔에 문자열만 출력되니까 좀 재미없었을 수 있다.  
그런데 이제부터는,

- **화면에서 버튼 누르면 블록 생성**
- **스마트 컨트랙트 배포**
- **지갑 연결 → 트랜잭션 전송**

이런 **눈에 보이는 작업들**을 직접 해보게 된다.  
그 시작이 바로, **“노드의 위치를 정확히 알고 연결할 수 있어야 한다”**는 거다.

---

## 그래서, 왜 지금 이걸 배우는가?

(_P2P 수업의 진짜 목적_)

우리가 지금까지 한 건 뭘까?

> 그냥 "메시지를 주고받았다."

하지만 다음 주부터는 이게 달라진다.

---

### 지금까지는

- A 노드 → B 노드에 메시지를 보냈다.  
  → “이 블록 받으세요”, “이 트랜잭션 확인하세요”  
  → 그냥 **문자열 던지는 수준**이었지.

---

### 그런데 다음 주부터는?

- 이제 **내가 작성한 코드 자체**를 **전 세계 노드들에게** 전송한다.
- 이게 바로 **스마트 컨트랙트 배포**다.
- 그리고 각 노드는 **그 코드를 직접 실행**한다.

> 메시지를 주고받는 게 아니라,  
> **내 코드를 실행해주는 분산 컴퓨터를 사용하는 것**이다.

---

### 그럼 어떤 준비가 되어 있어야 할까?

1. **어떤 컴퓨터에게 보낼 건지** → **IP 주소**
2. **어떤 프로그램에게 보낼 건지** → **포트 번호**
3. **그 프로그램은 항상 켜져 있는지?** → **노드의 역할**
4. **어떻게 전달할 건지?** → **P2P 통신 흐름**

---

## 요약 – 지금까지의 진짜 목적

> 지금 우리가 배우는 P2P는  
> **"앞으로 전 세계 컴퓨터가 내 코드를 받아서 실행하게 만드는 과정의 시작"**이다.

그래서  
단순히 “IP가 뭔데요?”, “포트가 몇 번이죠?”를 묻는 게 아니라,

**“이더리움 네트워크에 내 코드를 배포하려면,  
그걸 실행할 노드를 제대로 찾고 연결할 수 있어야 한다.”**

그걸 위한 구조, 그걸 위한 기술,  
그게 바로 지금 배우는 P2P 통신이다.
