# íŠ¸ëœì­ì…˜ êµ¬ì¡°: ê°œë…ê³¼ ì½”ë“œì˜ ì—°ê²°

ìš°ë¦¬ê°€ ì•ì„œ ì´ì•¼ê¸°í–ˆë˜

1. **ì´ê²ƒì„ ê°€ì§€ê³  ìˆì—ˆë‹¤**
2. **ì´ê²ƒì„ ëˆ„êµ¬ì—ê²Œ ì „ë‹¬í•˜ê² ë‹¤**
3. **ì´ê²ƒì€ ë‚˜ë‹¤!**  
   ë¼ëŠ” êµ¬ì¡°ëŠ” ë‹¨ì§€ ì² í•™ì  ê°œë…ì´ ì•„ë‹ˆë¼, ì‹¤ì œ ì½”ë“œì—ì„œë„ **ëª…í™•í•œ êµ¬ì¡°ë¡œ êµ¬í˜„ë˜ì–´** ìˆìŠµë‹ˆë‹¤.

---

### 1. **ì´ê²ƒì„ ê°€ì§€ê³  ìˆì—ˆë‹¤ â†’ `TxIn`**

íŠ¸ëœì­ì…˜ì—ì„œ  
**"ì´ ê¸°ë¡ì„ ì‚¬ìš©í•˜ê² ë‹¤"**,  
ì¦‰ **ê³¼ê±°ì˜ ì–´ë–¤ íŠ¸ëœì­ì…˜ì„ ì°¸ì¡°í•˜ê² ë‹¤**ëŠ” êµ¬ì¡°ê°€ ë°”ë¡œ `TxIn`ì…ë‹ˆë‹¤.

```ts
export class TxIn {
  txOutId?: string; // ì´ì „ íŠ¸ëœì­ì…˜ì˜ ID (í•´ì‹œê°’)
  txOutIndex: number; // ê·¸ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ëª‡ ë²ˆì§¸ ì¶œë ¥ì´ì—ˆëŠ”ì§€
  signature: SignatureInput; // ë‚´ê°€ ì´ ì…ë ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì¦ê±°
}
```

- `txOutId + txOutIndex`ëŠ” **ë‚´ê°€ ì“°ë ¤ëŠ” ì´ì „ ê¸°ë¡ì˜ ì£¼ì†Œ**ì´ê³ ,
- `signature`ëŠ” **ë‚´ê°€ ê·¸ ê¸°ë¡ì˜ ì£¼ì¸ì´ë¼ëŠ” ì¦ê±°**ì…ë‹ˆë‹¤. (3ë²ˆê³¼ ì—°ê²°ë¨)

---

### 2. **ì´ê²ƒì„ ëˆ„êµ¬ì—ê²Œ ì „ë‹¬í•˜ê² ë‹¤ â†’ `TxOut`**

"ëˆ„êµ¬ì—ê²Œ ì–¼ë§ˆë¥¼ ì¤„ ê±´ê°€?"  
ì¦‰, ì´ íŠ¸ëœì­ì…˜ì˜ **ì¶œë ¥ ê²°ê³¼ë¥¼ ëª…ì‹œ**í•˜ëŠ” ê²ƒì´ `TxOut`ì…ë‹ˆë‹¤.

```ts
export class TxOut {
  account: string; // ë°›ì„ ì‚¬ëŒ (ê³µê°œí‚¤ or ì£¼ì†Œ)
  amount: number; // ì–¼ë§ˆë¥¼ ì¤„ ê²ƒì¸ì§€
}
```

- í•œ íŠ¸ëœì­ì…˜ì—ëŠ” ì—¬ëŸ¬ ê°œì˜ `TxOut`ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
  â†’ ìˆ˜ì‹ ìì—ê²Œ ì¼ë¶€, ë‚˜ë¨¸ì§€ëŠ” ë‹¤ì‹œ ë‚˜ì—ê²Œ ëŒë ¤ì£¼ëŠ” ì‹ìœ¼ë¡œ.

> âœ… ì¦‰, `TxOut`ì€ **ê¶Œí•œì„ ë„˜ê²¨ì£¼ëŠ” ìƒˆë¡œìš´ ì„ ì–¸ì˜ êµ¬ì¡°**ì…ë‹ˆë‹¤.

---

### 3. **ì´ê²ƒì€ ë‚˜ë‹¤! â†’ `signature` (in `TxIn`) + `account` (in `TxOut`)**

ì´ êµ¬ì¡°ì—ì„œëŠ”  
**"ë‚´ê°€ ì£¼ì¸ì…ë‹ˆë‹¤"**ë¼ëŠ” ê²ƒì„ ì½”ë“œë¡œ í‘œí˜„í•˜ê¸° ìœ„í•´  
ì„œëª…(Signature)ê³¼ ê³µê°œí‚¤(Account ë˜ëŠ” ì£¼ì†Œ)ë¥¼ í•¨ê»˜ ì‚¬ìš©í•©ë‹ˆë‹¤.

- `TxIn` ì•ˆì˜ `signature`:  
  â†’ **ì´ ì…ë ¥ì„ ë‚´ê°€ ë§Œë“¤ì—ˆë‹¤ëŠ” ì¦ê±° (ê°œì¸í‚¤ë¡œ ì„œëª…)**
- `TxOut` ì•ˆì˜ `account`:  
  â†’ **ë°›ëŠ” ì‚¬ëŒì˜ ê³µê°œí‚¤ (ì¦‰, ê¶Œí•œì´ ë¶€ì—¬ë  ëŒ€ìƒ)**

> ğŸ” ê°œì¸í‚¤ëŠ” ì½”ë“œì— ë“œëŸ¬ë‚˜ì§€ ì•Šì§€ë§Œ,  
> ë¸”ë¡ì²´ì¸ì—ì„  **ê³µê°œí‚¤ë¡œ ê²€ì¦ ê°€ëŠ¥í•œ ì„œëª…**ë§Œ ìˆìœ¼ë©´ ì¶©ë¶„íˆ ê·¸ ì‚¬ëŒì„ì„ ì¦ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### ì „ì²´ íŠ¸ëœì­ì…˜ì€ â†’ `TransactionRow`

```ts
export class TransactionRow {
  txIns: TxIn[]; // ë‚´ê°€ ì–´ë–¤ ê¸°ë¡ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ 30ë§Œì› => 500ì› ì§¤ì§¤ì´ë¡œ ì‚¬ìš©í•¨
  txOuts: TxOut[]; // ê·¸ê±¸ ëˆ„êµ¬ì—ê²Œ ë„˜ê¸¸ ê±´ì§€
  hash?: string; // íŠ¸ëœì­ì…˜ ì‹ë³„ì
}
```

---

### ë‚˜ì¤‘ì— ì´ íŠ¸ëœì­ì…˜ ê²°ê³¼ë¡œ ìƒê¸´ ì‚¬ìš© ê°€ëŠ¥í•œ ì¶œë ¥ê°’ì€? â†’ `UnspentTxOut`

```ts
export class UnspentTxOut {
  txOutId: string; // ì–´ë–¤ íŠ¸ëœì­ì…˜ì˜
  txOutIndex: number; // ëª‡ ë²ˆì§¸ ì¶œë ¥ì¸ì§€
  account: string; // ëˆ„êµ¬ ì†Œìœ ì¸ì§€
  amount: number; // ì–¼ë§ˆì¸ì§€
}
```

ì´ êµ¬ì¡°ëŠ” **ì•ìœ¼ë¡œ ëˆ„êµ°ê°€ê°€ TxInì—ì„œ ì°¸ì¡°í•˜ê²Œ ë  â€˜ì‚¬ìš© ê°€ëŠ¥í•œ ì¡°ê°â€™**ì…ë‹ˆë‹¤.  
(ì¦‰, ì•„ì§ ì“°ì´ì§€ ì•Šì€ ì¶œë ¥ = UTXO)

### íŠ¸ëœì­ì…˜ í’€ ì •ì˜

```ts
// íŠ¸ëœì­ì…˜ ë°ì´í„° íƒ€ì…
export type TransactionData = string | TransactionRow;

// íŠ¸ëœì­ì…˜ í’€ íƒ€ì…
export type TransactionPool = TransactionRow[];
export type UnspentTxPool = UnspentTxOut[];
```
