# 무엇을 실행할 것인가? — `data` 필드

## 1. 자, 이제 우리가 진짜 궁금한 질문을 던져봅시다

우리는 스마트 컨트랙트를 이렇게 실행하죠:

```js
contract.methods.reset().send({ from: address });
```

그럼 이건 도대체 **어떻게 작동할까요?**  
"reset"이라는 글자를 EVM이 이해하는 걸까요?

아닙니다.  
EVM은 **함수 이름을 모릅니다.**  
**문자열도 모릅니다.**

---

## 2. 블록체인에서 트랜잭션은 데이터로만 구성됩니다

EVM은 이렇게 묻습니다:

> “너, **어느 주소로(to)** 어떤 데이터를(data) 보냈니?”  
> → 이게 전부예요.

---

## 3. 그래서 트랜잭션은 이렇게 구성됩니다:

| 속성   | 의미                                        |
| ------ | ------------------------------------------- |
| `to`   | 어떤 주소의 컨트랙트를 실행할지             |
| `data` | 그 컨트랙트 안에서 **무슨 함수를 실행할지** |

이 두 가지가 **함께** 있어야  
실제 코드 실행이 가능해집니다.

---

## 4. 그럼 `data` 안에는 뭐가 들었을까?

EVM은 사람이 쓰는 코드가 아니라  
**0과 1로 구성된 기계어 데이터**를 읽습니다.

그래서 `data`는 이렇게 구성돼요:

- **앞 4바이트**: 함수 식별자 (function selector)  
  → 예: `reset()` 함수의 selector는 `0x3f4ba83a`
- **그 뒤**: 함수의 인자가 있다면 인코딩된 값들

즉, 우리가 말로 쓴 함수 호출은  
EVM 입장에선 이렇게 보입니다:

```json
{
  "to": "0x123...컨트랙트주소",
  "data": "0x3f4ba83a"
}
```

---

## 5. 그럼 이건 결국 무슨 뜻일까요?

> **“이 컨트랙트에 이 데이터를 넘길 테니, 너가 알아서 이걸 해석해서 실행해.”**

즉,  
EVM은 **data만 보고 무슨 일을 해야 하는지** 결정합니다.  
우리는 함수 호출이라고 생각하지만,  
EVM은 그냥 "데이터를 받아서 상태를 바꿀 뿐"입니다.

---

## 6. 왜 data라는 이름이 붙었을까?

이더리움은 단순히,

**"코드 중심 시스템만"이 아닙니다.**  
**"데이터를 기반으로 코드를 작동시키는 시스템"입니다.**

즉,

- 코드를 직접 호출하는 게 아니라
- 데이터를 보내고,
- 그 데이터를 해석해서
- 코드를 실행하는 구조입니다.

그래서 `data`라고 부르는 거예요.  
**"실행하려는 의지를 코드가 아니라 데이터로 표현한 것"**입니다.

---

## 7. 실습 복기

우리가 실행한 이 코드:

```js
contract.methods.reset().send({ from: address });
```

→ 내부적으로는 이런 트랜잭션이 됩니다:

```json
{
  "from": "0x내지갑주소",
  "to": "0x컨트랙트주소",
  "data": "0x3f4ba83a"
}
```

우리는 `reset()`을 호출했지만,  
EVM은 그저 이 바이트 데이터를 받아 해석한 것뿐입니다.

---

## 8. 마무리 요약

| 속성   | 질문형 해석                   | 의미                                                 |
| ------ | ----------------------------- | ---------------------------------------------------- |
| `to`   | 어디에 가서 실행할 거야?      | 실행할 컨트랙트 주소                                 |
| `data` | 거기서 뭘 하라고 전달할 건데? | 실행 요청을 담은 바이트 인풋 (함수 식별자 + 인자 등) |

> 결국, 이더리움 트랜잭션은  
> **"누구에게 어떤 데이터를 보냈느냐"**로 설명되는 시스템입니다.

---

## 이걸 이해했다면…

- 왜 Web3.js가 `data`를 자동으로 채워주는지
- 왜 트랜잭션만 보고도 "아 이건 reset 함수 실행이구나"라고 이해할 수 있는지

모두 설명할 수 있게 됩니다.
