# 네트워크 설정

EC2 인스턴스를 만들 떄는 **네트워크 설정** 이 필요하다.  
=> **EC2가 어떤 네트워크(VPC)에서 동작할 지, 인터넷에 연결하지, 방화벽(보안그룹) 을 어떻게 설정할지** 결정해야 함.

## VPC 가 뭐임?

Virtual Private Cloud  

AWS에서는 모든 EC2 인스턴스(컴퓨타)가 **VPC(가상 네트워크)** 안에서 동작해야 함.  

- VPC ID: `vpc-0880406a063f909c51`
- AWS에서 자동 생성한 기본 네트워크 환경(VPC)
- EC2가 이 VPC 내부에서 실행됨.

## 서브넷은 또 뭐임?

**서브넷은 VPC 안에서 또 나뉘어짐 => 작은 네트워크 그룹을 나누는 개념**

- AWS 리전은 여러 가용 영역 AZ(Availability Zone)으로 구성된다
- 각 EC2는 특정 서브넷(AZ)에 속해야 한다.

간단하게 말하면, EC2가 어느 네트워크 그룹(서브넷)에 속할지 결정하는 단계.

- **서브넷 ID:** `subnet-02ae616045c6ba267`
- **VPC ID:** `vpc-088046a063f909c51`
- **가용 영역:** `ap-northeast-2b` (**서울 리전 내 특정 영역**)
- **사용 가능한 IP 주소:** `4091개` (해당 서브넷에서 사용할 수 있는 IP 수)
- **CIDR (IP 범위):** `172.31.16.0/20`

**즉, EC2가 "서울 리전 내 특정 네트워크 구역(서브넷)"에서 실행됨!**

## 퍼블릭 IP 자동 할당

| 설정                      | 설명                                                 |
| ------------------------- | ---------------------------------------------------- |
| **퍼블릭 IP 자동 할당 O** | 외부 인터넷에서 EC2에 접속 가능 (웹 서버 운영 가능)  |
| **퍼블릭 IP 자동 할당 X** | 내부 네트워크에서만 접근 가능 (데이터베이스 서버 등) |

웹 서버라면 퍼블릭 IP 할당 필수!

## 보안 그룹(방화벽) 설정

EC2 인스턴스는 **보안 그룹(Security Group, SG)**을 통해  
=> **어떤 트래픽(요청)을 허용할지 결정하는 방화벽 역할**을 함.

**기본 보안 그룹 설정:**  

| 프로토콜 | 포트 | 설명 |
|----------|------|------|
| **SSH** | 22 | 터미널(SSH) 접속 허용 |
| **HTTP** | 80 | 웹 서버 접속 허용 |
| **HTTPS** | 443 | 보안 웹 서버(SSL) 접속 허용 |

**0.0.0.0/0 → 모든 IP에서 접근 허용**  
보안을 위해 **특정 IP만 SSH 접속 허용하는 것이 좋음!**

## 서울 리전(서울 서버) 기준으로 EC2 인스턴스를 생성하려고 하면, 기본 VPC가 자동으로 생성됩니다.

AWS에서는 대부분의 리전(서버 지역)에서 **"기본 VPC"를 자동으로 제공**합니다.  
그러나 특정 리전에서는 기본 VPC가 없는 경우도 있습니다.
